{"version":3,"sources":["../app.js"],"names":["txtMessage","document","querySelector","btnToUppercase","chkBold","output","messageObjectInfo","isMobile","navigator","userAgent","match","isChrome","test","toLowerCase","isFirefox","isDesktopChrome","message","text","bold","addEventListener","value","updateUI","toUpperCase","textContent","style","fontWeight","html","text__history__","fullHistory","length","bold__history__","fileNameOnly","stack","innerHTML","updateLastLocationSourcemapped","history","selector","outputEl","codePreprocessor","resolveFrame","err","frame","setTimeout","location","fileName","lineNumber","columnNumber","locationEl","createElement","codeEl","line","appendChild","isDist","indexOf","parts","split","ret","replace","console","log"],"mappings":"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","file":"app.js","sourcesContent":["(function(){\n    var txtMessage = document.querySelector(\"#txt-message\")\n    var btnToUppercase = document.querySelector(\"#btn-to-uppercase\")\n    var chkBold = document.querySelector(\"#chk-bold\")\n    var output = document.querySelector(\"#output\")\n    var messageObjectInfo = document.querySelector(\"#message-object-info\")\n\n    var isMobile = navigator.userAgent.match(/iPhone|iPad|IEMobile|Android/)\n    var isChrome = /chrom(e|ium)/.test(navigator.userAgent.toLowerCase());\n    var isFirefox = /firefox/.test(navigator.userAgent.toLowerCase());\n    var isDesktopChrome = !isMobile && isChrome\n\n    window.message = { text: \"Hello World!\", bold: false };\n\n    txtMessage.addEventListener(\"keyup\", function(){\n        if (message.text !== txtMessage.value){\n            message.text = txtMessage.value;\n            updateUI();\n        }\n    })\n\n    btnToUppercase.addEventListener(\"click\", function(){\n        message.text = message.text.toUpperCase();\n        updateUI();\n    })\n\n    chkBold.addEventListener(\"change\", function(){\n        message.bold = !message.bold;\n        updateUI()\n    })\n\n    function updateUI(){\n        txtMessage.value = message.text\n\n        output.textContent = message.text\n        output.style.fontWeight = message.bold ? \"bold\" : \"normal\"\n\n        var html = `\n            <table>\n                <tr>\n                    <th style=\"width: 230px\">Inspect window.message!</th>\n                    <th style=\"width: 397px\">message.text</th>\n                    <th style=\"width: 397px\">message.bold</th>\n                </tr>\n                <tr>\n                    <td>Value</td>\n                    <td>\"${message.text}\"</td>\n                    <td>${message.bold}</td>\n                </tr>\n                <tr>\n                    <td>History Length</td>\n                    <td>${message.text__history__.fullHistory.length}</td>\n                    <td>${message.bold__history__.fullHistory.length}</td>\n                </tr>\n                <tr>\n                    <td>Last change at</td>\n                    <td>${fileNameOnly(message.text__history__.fullHistory[0].stack[0])}</td>\n                    <td>${fileNameOnly(message.bold__history__.fullHistory[0].stack[0])}</td>\n                </tr>\n                <tr>\n                    <td>Last change<br> (sourcemapped)</td>\n                    <td id=\"last-change-text\"></td>\n                    <td id=\"last-change-bold\"></td>\n                </tr>\n                <tr>\n                    <td>See console for results</td>\n                    <td><button onClick=\"message.text__history__.prettyPrintSynchronously()\">Call .prettyPrintSynchronously</button></td>\n                    <td><button onClick=\"message.bold__history__.prettyPrintSynchronously()\">Call .prettyPrintSynchronously</button></td>\n                </tr>\n                <tr>\n                    <td>See console for results</td>\n                    <td onClick=\"message.text__history__.prettyPrint()\"><button>Call .prettyPrint</button></td>\n                    <td onClick=\"message.bold__history__.prettyPrint()\"><button>Call .prettyPrint</button></td>\n                </tr>\n            </table>\n\n        `\n\n        messageObjectInfo.innerHTML = html;\n\n        updateLastLocationSourcemapped(message.text__history__, \"#last-change-text\")\n        updateLastLocationSourcemapped(message.bold__history__, \"#last-change-bold\")\n\n        function updateLastLocationSourcemapped(history, selector){\n            var outputEl = document.querySelector(selector);\n            if (isMobile || (!isChrome && !isFirefox)) {\n                outputEl.innerHTML = \"Currently Desktop Firefox/Chrome-only\"\n                return;\n            }\n\n            document.querySelector(selector).textContent = \"\"\n            codePreprocessor.resolveFrame(history.fullHistory[0].stack[0], function(err, frame){\n                // artificial delay to show it's asynchronous\n                setTimeout(function(){\n                    var location = fileNameOnly(frame.fileName) + \":\" + frame.lineNumber + \":\" + frame.columnNumber;\n                    var locationEl = document.createElement(\"div\")\n                    locationEl.textContent = location;\n                    var codeEl = document.createElement(\"code\")\n                    codeEl.textContent = frame.line\n\n                    outputEl.innerHTML = \"\"\n                    outputEl.appendChild(locationEl)\n                    outputEl.appendChild(codeEl)\n                }, 200)\n            })\n        }\n\n        function fileNameOnly(fileName){\n            var isDist = fileName.indexOf(\"/dist/\") !== -1;\n            var parts = fileName.split(\"/\")\n\n            var ret = isDist ? \"dist/\" : \"\"\n            ret += parts[parts.length - 1]\n            ret.replace(\")\", \"\") // from end of a call frame string\n\n            return ret\n        }\n    }\n\n    updateUI()\n\n    console.log(\"This is the global message object:\", message)\n})()\n"]}